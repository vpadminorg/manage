import{d as A,r as s,b as J,o as K,c as j,j as e,k as a,w as c,x as S,e as o,t as w,y as d,Y as y,a2 as G,Z as M,m as Z,R as b,T as $,a0 as H,G as O,I as W,ab as X,v as ee}from"./index-CHPWXQMS.js";import{_ as oe}from"./index-B-gTLope.js";import{E as te,a as ae}from"./el-table-column-RcY-Zu97.js";import"./el-checkbox-Bs44zGAi.js";/* empty css               */import{_ as ne}from"./index-CZUrYdTm.js";/* empty css                */import{E as le,a as ie}from"./el-form-item-DYrO0bwr.js";import{o as se}from"./index-Nt38t0Eq.js";import{w as re}from"./index-BWlz0r_B.js";import{E as pe}from"./index-BM49ysDq.js";import{E as me}from"./index-Cn5-TJFO.js";import"./_initCloneObject-CAq2WuN8.js";/* empty css                */import"./index-gMlI-fR7.js";import"./_baseClone-fGdeM2Wz.js";const ue={class:"p-2"},ce={class:"mb-[10px]"},xe=A({__name:"taskFinish",setup(de){const V=s(),{proxy:_}=$(),f=s(!0),T=s([]),x=s(!0),F=s(!0),m=s(!0),g=s(0),E=s([]),i=s({pageNum:1,pageSize:10,name:void 0,processDefinitionName:void 0,processDefinitionKey:void 0}),p=()=>{C()},B=()=>{var l;(l=V.value)==null||l.resetFields(),i.value.pageNum=1,i.value.pageSize=10,p()},R=l=>{T.value=l.map(n=>n.id),x.value=l.length!==1,F.value=!l.length},C=()=>{f.value=!0,se(i.value).then(l=>{E.value=l.rows,g.value=l.total,f.value=!1})},U=l=>{const n=H({wfDefinitionConfigVo:l.wfDefinitionConfigVo,wfNodeConfigVo:l.wfNodeConfigVo,businessKey:l.businessKey,taskId:l.id,type:"view"});re.routerJump(n,_)};return J(()=>{C()}),(l,n)=>{var D,k;const v=O,u=le,h=W,z=ie,N=pe,I=ne,Y=me,r=te,q=X,L=ae,P=oe,Q=ee;return K(),j("div",ue,[e(G,{"enter-active-class":(D=o(_))==null?void 0:D.animate.searchAnimate.enter,"leave-active-class":(k=o(_))==null?void 0:k.animate.searchAnimate.leave},{default:a(()=>[c(S("div",ce,[e(N,{shadow:"hover"},{default:a(()=>[c(e(z,{ref_key:"queryFormRef",ref:V,model:o(i),inline:!0},{default:a(()=>[e(u,{label:"任务名称",prop:"name"},{default:a(()=>[e(v,{modelValue:o(i).name,"onUpdate:modelValue":n[0]||(n[0]=t=>o(i).name=t),placeholder:"请输入任务名称",onKeyup:w(p,["enter"])},null,8,["modelValue"])]),_:1}),e(u,{label:"流程定义名称","label-width":"100",prop:"processDefinitionName"},{default:a(()=>[e(v,{modelValue:o(i).processDefinitionName,"onUpdate:modelValue":n[1]||(n[1]=t=>o(i).processDefinitionName=t),placeholder:"请输入流程定义名称",onKeyup:w(p,["enter"])},null,8,["modelValue"])]),_:1}),e(u,{label:"流程定义KEY","label-width":"100",prop:"processDefinitionKey"},{default:a(()=>[e(v,{modelValue:o(i).processDefinitionKey,"onUpdate:modelValue":n[2]||(n[2]=t=>o(i).processDefinitionKey=t),placeholder:"请输入流程定义KEY",onKeyup:w(p,["enter"])},null,8,["modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(h,{type:"primary",icon:"Search",onClick:p},{default:a(()=>[d("搜索")]),_:1}),e(h,{icon:"Refresh",onClick:B},{default:a(()=>[d("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[y,o(m)]])]),_:1})],512),[[y,o(m)]])]),_:1},8,["enter-active-class","leave-active-class"]),e(N,{shadow:"hover"},{header:a(()=>[e(Y,{gutter:10,class:"mb8"},{default:a(()=>[e(I,{showSearch:o(m),"onUpdate:showSearch":n[3]||(n[3]=t=>M(m)?m.value=t:null),onQueryTable:p},null,8,["showSearch"])]),_:1})]),default:a(()=>[c((K(),Z(L,{border:"",data:o(E),onSelectionChange:R},{default:a(()=>[e(r,{type:"selection",width:"55",align:"center"}),e(r,{align:"center",type:"index",label:"序号",width:"60"}),e(r,{"show-overflow-tooltip":!0,align:"center",label:"流程定义名称"},{default:a(t=>[S("span",null,b(t.row.processDefinitionName)+"v"+b(t.row.processDefinitionVersion)+".0",1)]),_:1}),e(r,{align:"center",prop:"processDefinitionKey",label:"流程定义KEY"}),e(r,{align:"center",prop:"name",label:"任务名称"}),e(r,{align:"center",prop:"assigneeName",label:"办理人"},{default:a(t=>[e(q,{type:"success"},{default:a(()=>[d(b(t.row.assigneeName||"无"),1)]),_:2},1024)]),_:1}),e(r,{align:"center",prop:"startTime",label:"创建时间",width:"160"}),e(r,{label:"操作",align:"center",width:"200"},{default:a(t=>[e(h,{type:"primary",size:"small",icon:"View",onClick:_e=>U(t.row)},{default:a(()=>[d("查看")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,o(f)]]),c(e(P,{page:o(i).pageNum,"onUpdate:page":n[4]||(n[4]=t=>o(i).pageNum=t),limit:o(i).pageSize,"onUpdate:limit":n[5]||(n[5]=t=>o(i).pageSize=t),total:o(g),onPagination:p},null,8,["page","limit","total"]),[[y,o(g)>0]])]),_:1})])}}});export{xe as default};
