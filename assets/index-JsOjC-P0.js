import{ac as I,d as W,r as c,a0 as G,$ as ue,b as me,a1 as pe,o as y,c as ce,j as e,k as o,w as f,x as M,e as t,t as w,y as g,Y as O,a2 as ve,m as h,Z as fe,T as _e,G as ge,I as be,a3 as ye,W as Ve,v as ke}from"./index-_v2uieGc.js";import{_ as he}from"./index-B7XPQ3lw.js";import{E as we,a as Ie}from"./el-table-column-Q2QHI77F.js";import"./el-checkbox-C6h3hzMD.js";/* empty css               */import{_ as Ce}from"./index-Bi2yoGwv.js";/* empty css               *//* empty css                */import{E as Ee,a as Ne}from"./el-form-item-BZcdB44L.js";import{E as Ke}from"./index-ctcZQfix.js";import{E as De}from"./index-7OoO_SlU.js";import{E as Ue}from"./index-DJNwvRpE.js";import"./_initCloneObject-DMl0_0C4.js";/* empty css                */import"./index-BFoUAo4m.js";import"./_baseClone-Cj6s47u0.js";const Se=m=>I({url:"/demo/demo/list",method:"get",params:m}),qe=m=>I({url:"/demo/demo/"+m,method:"get"}),Fe=m=>I({url:"/demo/demo",method:"post",data:m}),$e=m=>I({url:"/demo/demo",method:"put",data:m}),Re=m=>I({url:"/demo/demo/"+m,method:"delete"}),Te={class:"p-2"},xe={class:"mb-[10px]"},Pe={class:"dialog-footer"},Be=W({name:"Demo"}),tl=W({...Be,setup(m){const{proxy:s}=_e(),F=c([]),C=c(!1),E=c(!0),N=c(!0),D=c([]),$=c(!0),R=c(!0),U=c(0),T=c(),S=c(),v=G({visible:!1,title:""}),x={id:void 0,deptId:void 0,userId:void 0,orderNum:void 0,testKey:void 0,value:void 0},Y=G({form:{...x},queryParams:{pageNum:1,pageSize:10,deptId:void 0,userId:void 0,orderNum:void 0,testKey:void 0,value:void 0},rules:{id:[{required:!0,message:"主键不能为空",trigger:"blur"}],deptId:[{required:!0,message:"部门id不能为空",trigger:"blur"}],userId:[{required:!0,message:"用户id不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"排序号不能为空",trigger:"blur"}],testKey:[{required:!0,message:"key键不能为空",trigger:"blur"}],value:[{required:!0,message:"值不能为空",trigger:"blur"}]}}),{queryParams:n,form:r,rules:Z}=ue(Y),V=async()=>{E.value=!0;const d=await Se(n.value);F.value=d.rows,U.value=d.total,E.value=!1},H=()=>{q(),v.visible=!1},q=()=>{var d;r.value={...x},(d=S.value)==null||d.resetFields()},b=()=>{n.value.pageNum=1,V()},J=()=>{var d;(d=T.value)==null||d.resetFields(),b()},X=d=>{D.value=d.map(l=>l.id),$.value=d.length!=1,R.value=!d.length},ee=()=>{q(),v.visible=!0,v.title="添加测试单"},P=async d=>{q();const l=(d==null?void 0:d.id)||D.value[0],i=await qe(l);Object.assign(r.value,i.data),v.visible=!0,v.title="修改测试单"},le=()=>{var d;(d=S.value)==null||d.validate(async l=>{l&&(C.value=!0,r.value.id?await $e(r.value).finally(()=>C.value=!1):await Fe(r.value).finally(()=>C.value=!1),s==null||s.$modal.msgSuccess("修改成功"),v.visible=!1,await V())})},B=async d=>{const l=(d==null?void 0:d.id)||D.value;await(s==null?void 0:s.$modal.confirm('是否确认删除测试单编号为"'+l+'"的数据项？').finally(()=>E.value=!1)),await Re(l),s==null||s.$modal.msgSuccess("删除成功"),await V()},te=()=>{s==null||s.download("demo/demo/export",{...n.value},`demo_${new Date().getTime()}.xlsx`)};return me(()=>{V()}),(d,l)=>{var Q,j;const i=ge,u=Ee,p=be,L=Ne,z=Ke,K=De,oe=Ce,ae=Ue,_=we,A=ye,de=Ie,ne=he,re=Ve,k=pe("hasPermi"),se=ke;return y(),ce("div",Te,[e(ve,{"enter-active-class":(Q=t(s))==null?void 0:Q.animate.searchAnimate.enter,"leave-active-class":(j=t(s))==null?void 0:j.animate.searchAnimate.leave},{default:o(()=>[f(M("div",xe,[e(z,{shadow:"hover"},{default:o(()=>[e(L,{ref_key:"queryFormRef",ref:T,model:t(n),inline:!0},{default:o(()=>[e(u,{label:"部门id",prop:"deptId"},{default:o(()=>[e(i,{modelValue:t(n).deptId,"onUpdate:modelValue":l[0]||(l[0]=a=>t(n).deptId=a),placeholder:"请输入部门id",clearable:"",onKeyup:w(b,["enter"])},null,8,["modelValue"])]),_:1}),e(u,{label:"用户id",prop:"userId"},{default:o(()=>[e(i,{modelValue:t(n).userId,"onUpdate:modelValue":l[1]||(l[1]=a=>t(n).userId=a),placeholder:"请输入用户id",clearable:"",onKeyup:w(b,["enter"])},null,8,["modelValue"])]),_:1}),e(u,{label:"排序号",prop:"orderNum"},{default:o(()=>[e(i,{modelValue:t(n).orderNum,"onUpdate:modelValue":l[2]||(l[2]=a=>t(n).orderNum=a),placeholder:"请输入排序号",clearable:"",onKeyup:w(b,["enter"])},null,8,["modelValue"])]),_:1}),e(u,{label:"key键",prop:"testKey"},{default:o(()=>[e(i,{modelValue:t(n).testKey,"onUpdate:modelValue":l[3]||(l[3]=a=>t(n).testKey=a),placeholder:"请输入key键",clearable:"",onKeyup:w(b,["enter"])},null,8,["modelValue"])]),_:1}),e(u,{label:"值",prop:"value"},{default:o(()=>[e(i,{modelValue:t(n).value,"onUpdate:modelValue":l[4]||(l[4]=a=>t(n).value=a),placeholder:"请输入值",clearable:"",onKeyup:w(b,["enter"])},null,8,["modelValue"])]),_:1}),e(u,null,{default:o(()=>[e(p,{type:"primary",icon:"Search",onClick:b},{default:o(()=>[g("搜索")]),_:1}),e(p,{icon:"Refresh",onClick:J},{default:o(()=>[g("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],512),[[O,t(N)]])]),_:1},8,["enter-active-class","leave-active-class"]),e(z,{shadow:"hover"},{header:o(()=>[e(ae,{gutter:10,class:"mb8"},{default:o(()=>[e(K,{span:1.5},{default:o(()=>[f((y(),h(p,{type:"primary",plain:"",icon:"Plus",onClick:ee},{default:o(()=>[g("新增")]),_:1})),[[k,["demo:demo:add"]]])]),_:1}),e(K,{span:1.5},{default:o(()=>[f((y(),h(p,{type:"success",plain:"",icon:"Edit",disabled:t($),onClick:l[5]||(l[5]=a=>P())},{default:o(()=>[g("修改")]),_:1},8,["disabled"])),[[k,["demo:demo:edit"]]])]),_:1}),e(K,{span:1.5},{default:o(()=>[f((y(),h(p,{type:"danger",plain:"",icon:"Delete",disabled:t(R),onClick:l[6]||(l[6]=a=>B())},{default:o(()=>[g("删除")]),_:1},8,["disabled"])),[[k,["demo:demo:remove"]]])]),_:1}),e(K,{span:1.5},{default:o(()=>[f((y(),h(p,{type:"warning",plain:"",icon:"Download",onClick:te},{default:o(()=>[g("导出")]),_:1})),[[k,["demo:demo:export"]]])]),_:1}),e(oe,{showSearch:t(N),"onUpdate:showSearch":l[7]||(l[7]=a=>fe(N)?N.value=a:null),onQueryTable:V},null,8,["showSearch"])]),_:1})]),default:o(()=>[f((y(),h(de,{data:t(F),onSelectionChange:X},{default:o(()=>[e(_,{type:"selection",width:"55",align:"center"}),(y(),h(_,{key:0,label:"主键",align:"center",prop:"id"})),e(_,{label:"部门id",align:"center",prop:"deptId"}),e(_,{label:"用户id",align:"center",prop:"userId"}),e(_,{label:"排序号",align:"center",prop:"orderNum"}),e(_,{label:"key键",align:"center",prop:"testKey"}),e(_,{label:"值",align:"center",prop:"value"}),e(_,{label:"操作",align:"center","class-name":"small-padding fixed-width"},{default:o(a=>[e(A,{content:"修改",placement:"top"},{default:o(()=>[f(e(p,{link:"",type:"primary",icon:"Edit",onClick:ie=>P(a.row)},null,8,["onClick"]),[[k,["demo:demo:edit"]]])]),_:2},1024),e(A,{content:"删除",placement:"top"},{default:o(()=>[f(e(p,{link:"",type:"primary",icon:"Delete",onClick:ie=>B(a.row)},null,8,["onClick"]),[[k,["demo:demo:remove"]]])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[se,t(E)]]),f(e(ne,{page:t(n).pageNum,"onUpdate:page":l[8]||(l[8]=a=>t(n).pageNum=a),limit:t(n).pageSize,"onUpdate:limit":l[9]||(l[9]=a=>t(n).pageSize=a),total:t(U),onPagination:V},null,8,["page","limit","total"]),[[O,t(U)>0]])]),_:1}),e(re,{modelValue:t(v).visible,"onUpdate:modelValue":l[15]||(l[15]=a=>t(v).visible=a),title:t(v).title,width:"500px","append-to-body":""},{footer:o(()=>[M("div",Pe,[e(p,{loading:t(C),type:"primary",onClick:le},{default:o(()=>[g("确 定")]),_:1},8,["loading"]),e(p,{onClick:H},{default:o(()=>[g("取 消")]),_:1})])]),default:o(()=>[e(L,{ref_key:"demoFormRef",ref:S,model:t(r),rules:t(Z),"label-width":"80px"},{default:o(()=>[e(u,{label:"部门id",prop:"deptId"},{default:o(()=>[e(i,{modelValue:t(r).deptId,"onUpdate:modelValue":l[10]||(l[10]=a=>t(r).deptId=a),placeholder:"请输入部门id"},null,8,["modelValue"])]),_:1}),e(u,{label:"用户id",prop:"userId"},{default:o(()=>[e(i,{modelValue:t(r).userId,"onUpdate:modelValue":l[11]||(l[11]=a=>t(r).userId=a),placeholder:"请输入用户id"},null,8,["modelValue"])]),_:1}),e(u,{label:"排序号",prop:"orderNum"},{default:o(()=>[e(i,{modelValue:t(r).orderNum,"onUpdate:modelValue":l[12]||(l[12]=a=>t(r).orderNum=a),placeholder:"请输入排序号"},null,8,["modelValue"])]),_:1}),e(u,{label:"key键",prop:"testKey"},{default:o(()=>[e(i,{modelValue:t(r).testKey,"onUpdate:modelValue":l[13]||(l[13]=a=>t(r).testKey=a),placeholder:"请输入key键"},null,8,["modelValue"])]),_:1}),e(u,{label:"值",prop:"value"},{default:o(()=>[e(i,{modelValue:t(r).value,"onUpdate:modelValue":l[14]||(l[14]=a=>t(r).value=a),placeholder:"请输入值"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{tl as default};
