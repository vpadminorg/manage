import{ac as g,d as D,Q as w,o as P,c as B,j as a,x as e,R as T,a4 as Z,N as S,r as p,i as L,m as V,k as o,y as s,e as h,dj as ee,E as b,G as te,ah as R,a3 as z,I as O,W as G,K as H,L as q,h as le,b as ne,co as ae,dk as oe,dl as se,w as de,F as re,v as ie}from"./index-BdO_PCud.js";/* empty css                    */import{E as ue}from"./index-0t1ExfmB.js";import{a as F}from"./index-CgJPZEEQ.js";const Be=t=>g({url:"/vpadmin/project/list",method:"get",params:t}),Ve=t=>g({url:"/vpadmin/project",method:"post",data:t}),De=t=>g({url:"/vpadmin/project",method:"put",data:t}),Se=(t,n)=>g({url:"/vpadmin/project/"+t,method:"delete",params:{deleteRemote:n}}),xe=t=>g({url:`/vpadmin/project/running/${t}`,method:"get"}),Ae=()=>g({url:"/vpadmin/project/runningOne",method:"get"}),Ne=t=>g({url:`/vpadmin/project/quota/${t}`,method:"get"}),ce={class:"build-progress-bar"},me=D({__name:"BuildProgressBar",props:{percent:{},message:{}},setup(t){const n=t,_=w(()=>n.percent===-1?100:n.percent),d=w(()=>n.percent===-1?"exception":n.percent===100?"success":""),l=w(()=>n.percent!==100&&n.percent!==-1),r=w(()=>n.percent!==100&&n.percent!==-1),u=i=>n.percent===-1?"失败":i===100?"完成":`${i}%`,y=w(()=>n.percent===-1?"error-message":n.percent===100?"success-message":"");return(i,f)=>{const c=ue;return P(),B("div",ce,[a(c,{percentage:_.value,format:u,status:d.value,striped:l.value,"striped-flow":r.value},null,8,["percentage","status","striped","striped-flow"]),e("div",{class:Z(["message",y.value])},T(i.message),3)])}}}),Le=S(me,[["__scopeId","data-v-cee19b73"]]),Q=t=>(H("data-v-d1ce9ab1"),t=t(),q(),t),pe=Q(()=>e("p",null,"请确认您的支付状态",-1)),fe=Q(()=>e("p",{class:"red-text"},"如果支付过程中没有要求输入邮箱，请提供您登录的ko-fi账号的邮箱以便我们用于您的订单确认：",-1)),_e={class:"input-container"},ye={class:"dialog-footer"},ge=`
  <div class="custom-tooltip">
    <p>我们支付是通过ko-fi提供的支付服务，</p>
    <p>如果支付过程中没有要求输入邮箱，说明您有ko-fi账号并处于登录状态，</p>
    <p>因此ko-fi会直接使用ko-fi账号绑定的邮箱与订单进行关联。</p>
    <p>我们需要这个邮箱来确定您的支付订单，</p>
    <p>以便为您开通升级后的功能，感谢您的理解和配合。</p>
  </div>
`,ve=D({__name:"PaymentConfirmDialog",props:{visible:{type:Boolean},userEmail:{},paymentName:{}},emits:["update:visible","confirm","cancel"],setup(t,{emit:n}){const _=t,d=n,l=p(""),r=p(_.visible),u=()=>{d("confirm",l.value),r.value=!1},y=()=>{d("cancel"),r.value=!1},i=f=>{b.warning("请选择支付状态")};return L(()=>_.visible,f=>{r.value=f}),L(r,f=>{d("update:visible",f)}),(f,c)=>{const C=te,I=R,E=z,U=O,M=G;return P(),V(M,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=k=>r.value=k),title:"确认",width:"30%","before-close":i,class:"payment-confirm-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":""},{footer:o(()=>[e("div",ye,[a(U,{type:"primary",class:"confirm-button",onClick:u},{default:o(()=>[s(" 已支付成功 ")]),_:1}),a(U,{class:"cancel-button",onClick:y},{default:o(()=>[s(" 未支付，我再想想 ")]),_:1})])]),default:o(()=>[pe,fe,e("div",_e,[a(C,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=k=>l.value=k),placeholder:"请输入ko-fi账号邮箱"},null,8,["modelValue"]),a(E,{effect:"light",placement:"top",content:ge,"show-after":300,"raw-content":""},{default:o(()=>[a(I,{class:"info-icon"},{default:o(()=>[a(h(ee))]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}}),he=S(ve,[["__scopeId","data-v-d1ce9ab1"]]),x=t=>(H("data-v-7aa3683f"),t=t(),q(),t),be=x(()=>e("span",{class:"pro-text-small"},"Pro",-1)),Pe=x(()=>e("span",{class:"pro-text"},"Pro",-1)),Ce={id:"user-guide",class:"user-guide"},ke={class:"iframe-container","element-loading-text":"加载中..."},$e=["src"],je=x(()=>e("div",{class:"help-content"},[e("h1",{id:"Payment User Guide","data-line":"0"},"Payment User Guide"),e("h2",{id:"分为3种计划","data-line":"1"},"分为3种计划"),e("ul",{"data-line":"2"},[e("li",{"data-line":"2"},"Free: 无需编码，一键建站，并将任意静态网站瞬间升级成带管理端功能的动态站点"),e("li",{"data-line":"3"},[s("PlanA: 1$/Mon, 10$("),e("s",null,"12$"),s(")/Annually, More storage and buildtime with more admin features")]),e("li",{"data-line":"4"},[s("PlanB: 2$/Mon, 20$("),e("s",null,"24$"),s(")/Annually, More storage and buildtime with full admin features")])]),e("h2",{id:"Features for different plans","data-line":"5"},"Features for different plans"),e("table",{"data-line":"6"},[e("thead",{"data-line":"6"},[e("tr",{"data-line":"6"},[e("th",null,"Features"),e("th",null,"Free"),e("th",null,[s("PlanA: 1$/Mon"),e("br"),s("10$("),e("s",null,"12$"),s(")/Annually")]),e("th",null,[s("PlanB: 2$/Mon"),e("br"),s("10$("),e("s",null,"20$"),s(")/Annually")])])]),e("tbody",{"data-line":"8"},[e("tr",{"data-line":"8"},[e("td",null,"Online Editor"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"9"},[e("td",null,"Auto Build"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"10"},[e("td",null,"Auto Publish"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"11"},[e("td",null,"Predefinded Themes"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"12"},[e("td",null,"Multi-Projects"),e("td",null,"10"),e("td",null,"-"),e("td",null,"-")]),e("tr",{"data-line":"13"},[e("td",null,"Storage/Project"),e("td",null,"10MB"),e("td",null,"100MB"),e("td",null,"200MB")]),e("tr",{"data-line":"14"},[e("td",null,"Buildtime/Project"),e("td",null,"10Mins/Mon"),e("td",null,"100Mins/Mon"),e("td",null,"200Mins/Mon")]),e("tr",{"data-line":"15"},[e("td",null,"Simple Dashboard"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"16"},[e("td",null,"Changes list/revert/diff"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"17"},[e("td",null,"Users"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"18"},[e("td",null,"Deploy History"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"19"},[e("td",null,"Email Notification"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"20"},[e("td",null,"Commit Anytime"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"21"},[e("td",null,"Commit History"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"22"},[e("td",null,"Commit Rollback"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"23"},[e("td",null,"Customed Message"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"24"},[e("td",null,"Users/Roles Manage"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"25"},[e("td",null,"Analytics Dashboard"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"26"},[e("td",null,"OAuth Setting"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"27"},[e("td",null,"Orders"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"28"},[e("td",null,"Email Autoreply"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"29"},[e("td",null,"Payment Setting"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"30"},[e("td",null,"Payment Logs"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"31"},[e("td",null,"Content Preview"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"32"},[e("td",null,"Ads Free"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"❌")])])])],-1)),we=D({__name:"UpgradeProDialog",props:{paymentPlatform:{},paymentType:{},iframeUrl:{},paymentName:{},projectId:{},size:{}},emits:["payment-success","payment-cancelled"],setup(t,{emit:n}){const _="436efb388d684aadab73ef3cbba8f287",d=le(),l=t,r=n,u=p(!1),y=p(!1),i=p(!0),f=p(null),c=p(l.iframeUrl);p("");const C=p(!1);ne(()=>{}),ae(()=>{});const I=()=>{c.value=`${l.iframeUrl}${l.iframeUrl.includes("?")?"&":"?"}timestamp=${Date.now()}`,i.value=!0},E=()=>{u.value=!0,I()},U=()=>{C.value=!0},M=$=>{const m={paymentType:l.paymentType,paymentPlatform:l.paymentPlatform,paymentName:l.paymentName,paymentConfirm:"1",paymentLink:l.iframeUrl,userEmail:$||d.email,projectId:l.projectId,clientId:_};F(m).then(()=>{b.success("支付确认记录已添加"),r("payment-success"),u.value=!1}).catch(v=>{console.error("添加支付确认记录失败:",v),b.error("添加支付确认记录失败，请稍后重试")})},k=()=>{const $={paymentType:l.paymentType,paymentPlatform:l.paymentPlatform,paymentName:l.paymentName,paymentConfirm:"0",paymentLink:l.iframeUrl,userEmail:d.email,projectId:l.projectId,clientId:_};F($).then(()=>{r("payment-cancelled"),u.value=!1}).catch(m=>{})},K=()=>{i.value=!1},W=()=>{i.value=!1,b.error("加载升级页面失败，请稍后再试")},J=()=>{navigator.clipboard.writeText(d.email).then(()=>{b.success("邮箱已复制到剪贴板")}).catch(()=>{b.error("复制失败，请手动复制")})},X=()=>{y.value=!0};return($,m)=>{const v=O,A=R,N=G,Y=ie;return P(),B(re,null,[e("div",null,[a(h(z),{content:"升级到Pro",placement:"top","show-after":300,effect:"light"},{default:o(()=>[$.size==="small"?(P(),V(v,{key:0,class:"pro-button-small",onClick:E},{default:o(()=>[be]),_:1})):(P(),V(v,{key:1,class:"pro-button",onClick:E},{default:o(()=>[Pe]),_:1}))]),_:1}),a(N,{modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=j=>u.value=j),title:"升级到 Pro",width:"80%","before-close":U,"append-to-body":""},{default:o(()=>[e("div",Ce,[e("span",null,"请在需要填入Email的位置，填入当前账号的Email："+T(h(d).email),1),a(v,{size:"small",class:"copy-button",onClick:J},{default:o(()=>[a(A,null,{default:o(()=>[a(h(oe))]),_:1}),s(" 复制 ")]),_:1}),a(v,{size:"small",class:"help-button",onClick:X},{default:o(()=>[a(A,null,{default:o(()=>[a(h(se))]),_:1}),s(" 帮助 ")]),_:1})]),de((P(),B("div",ke,[e("iframe",{id:"kofiframe",ref_key:"iframeRef",ref:f,src:c.value,frameborder:"0",class:"pro-iframe",style:{border:"none",width:"100%",padding:"4px",background:"#f9f9f9"},onLoad:K,onError:W},null,40,$e)])),[[Y,i.value]])]),_:1},8,["modelValue"])]),a(N,{modelValue:y.value,"onUpdate:modelValue":m[1]||(m[1]=j=>y.value=j),title:"升级步骤说明",width:"70%",class:"help-dialog","append-to-body":""},{default:o(()=>[je]),_:1},8,["modelValue"]),a(he,{visible:C.value,"onUpdate:visible":m[2]||(m[2]=j=>C.value=j),"user-email":h(d).email,"payment-name":l.paymentName,onConfirm:M,onCancel:k},null,8,["visible","user-email","payment-name"])],64)}}}),Fe=S(we,[["__scopeId","data-v-7aa3683f"]]);export{Le as B,Fe as U,Ve as a,xe as b,Ne as c,Se as d,Ae as g,Be as l,De as u};
