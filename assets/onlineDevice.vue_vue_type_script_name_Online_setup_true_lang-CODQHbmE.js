import{d as c,ae as w,$ as b,Q as v,o as T,c as E,j as t,k as l,e as i,x as k,R as C,T as B,P as $,I as y,a3 as D}from"./index-SwfHvmsR.js";import{E as I,a as O}from"./el-table-column-DvXjLevZ.js";import"./el-checkbox-gjRiKN0S.js";import{_ as R}from"./index-YuVMnXy9.js";import{d as N}from"./index-BAzPoiKh.js";const P=c({name:"Online"}),M=c({...P,props:{devices:w.any.isRequired},setup(r){const{proxy:e}=B(),{sys_device_type:p}=b(e==null?void 0:e.useDict("sys_device_type")),d=r,_=v(()=>d.devices),m=a=>{$.confirm("删除设备后，在该设备登录需要重新进行验证").then(()=>N(a.tokenId)).then(s=>{s.code===200?(e==null||e.$modal.msgSuccess("删除成功"),e==null||e.$tab.refreshPage()):e==null||e.$modal.msgError(s.msg)}).catch(()=>{})};return(a,s)=>{const u=R,o=I,f=y,g=D,h=O;return T(),E("div",null,[t(h,{data:i(_),style:{width:"100%",height:"100%","font-size":"14px"}},{default:l(()=>[t(o,{label:"设备类型",align:"center"},{default:l(n=>[t(u,{options:i(p),value:n.row.deviceType},null,8,["options","value"])]),_:1}),t(o,{label:"主机",align:"center",prop:"ipaddr","show-overflow-tooltip":!0}),t(o,{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}),t(o,{label:"操作系统",align:"center",prop:"os","show-overflow-tooltip":!0}),t(o,{label:"浏览器",align:"center",prop:"browser","show-overflow-tooltip":!0}),t(o,{label:"登录时间",align:"center",prop:"loginTime",width:"180"},{default:l(n=>[k("span",null,C(a.parseTime(n.row.loginTime)),1)]),_:1}),t(o,{label:"操作",align:"center","class-name":"small-padding fixed-width"},{default:l(n=>[t(g,{content:"删除",placement:"top"},{default:l(()=>[t(f,{link:"",type:"primary",icon:"Delete",onClick:S=>m(n.row)},null,8,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])])}}});export{M as _};
