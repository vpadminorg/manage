import{aa as v,d as I,O as E,o as h,c as V,j as s,m as e,Q as F,a2 as K,L as A,r as c,i as N,p as D,k as r,y as d,e as b,dh as W,E as P,G as X,af as T,a1 as O,I as R,U as z,h as Y,b as Z,cm as ee,di as te,dj as le,w as ne,F as ae,v as oe}from"./index-D4nD6lq3.js";/* empty css                    */import{E as se}from"./index-BWD8n9py.js";import{a as S}from"./index-DaOCklNI.js";const Ce=n=>v({url:"/vpadmin/project/list",method:"get",params:n}),ke=n=>v({url:"/vpadmin/project",method:"post",data:n}),je=n=>v({url:"/vpadmin/project",method:"put",data:n}),$e=(n,a)=>v({url:"/vpadmin/project/"+n,method:"delete",params:{deleteRemote:a}}),Ee=n=>v({url:`/vpadmin/project/running/${n}`,method:"get"}),Ue=()=>v({url:"/vpadmin/project/runningOne",method:"get"}),we=n=>v({url:`/vpadmin/project/quota/${n}`,method:"get"}),re={class:"build-progress-bar"},de=I({__name:"BuildProgressBar",props:{percent:{},message:{}},setup(n){const a=n,y=E(()=>a.percent===-1?100:a.percent),u=E(()=>a.percent===-1?"exception":a.percent===100?"success":""),t=E(()=>a.percent!==100&&a.percent!==-1),i=E(()=>a.percent!==100&&a.percent!==-1),p=m=>a.percent===-1?"失败":m===100?"完成":`${m}%`,g=E(()=>a.percent===-1?"error-message":a.percent===100?"success-message":"");return(m,f)=>{const o=se;return h(),V("div",re,[s(o,{percentage:y.value,format:p,status:u.value,striped:t.value,"striped-flow":i.value},null,8,["percentage","status","striped","striped-flow"]),e("div",{class:K(["message",g.value])},F(m.message),3)])}}}),Me=A(de,[["__scopeId","data-v-cee19b73"]]),ue={class:"input-container"},ie={class:"dialog-footer"},me=`
  <div class="custom-tooltip">
    <p>我们支付是通过ko-fi提供的支付服务，</p>
    <p>如果支付过程中没有要求输入邮箱，说明您有ko-fi账号并处于登录状态，</p>
    <p>因此ko-fi会直接使用ko-fi账号绑定的邮箱与订单进行关联。</p>
    <p>我们需要这个邮箱来确定您的支付订单，</p>
    <p>以便为您开通升级后的功能，感谢您的理解和配合。</p>
  </div>
`,pe=I({__name:"PaymentConfirmDialog",props:{visible:{type:Boolean},userEmail:{},paymentName:{}},emits:["update:visible","confirm","cancel"],setup(n,{emit:a}){const y=n,u=a,t=c(""),i=c(y.visible),p=()=>{u("confirm",t.value),i.value=!1},g=()=>{u("cancel"),i.value=!1},m=f=>{P.warning("请选择支付状态")};return N(()=>y.visible,f=>{i.value=f}),N(i,f=>{u("update:visible",f)}),(f,o)=>{const C=X,M=T,U=O,w=R,B=z;return h(),D(B,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=k=>i.value=k),title:"确认",width:"30%","before-close":m,class:"payment-confirm-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":""},{footer:r(()=>[e("div",ie,[s(w,{type:"primary",class:"confirm-button",onClick:p},{default:r(()=>o[2]||(o[2]=[d(" 已支付成功 ")])),_:1}),s(w,{class:"cancel-button",onClick:g},{default:r(()=>o[3]||(o[3]=[d(" 未支付，我再想想 ")])),_:1})])]),default:r(()=>[o[4]||(o[4]=e("p",null,"请确认您的支付状态",-1)),o[5]||(o[5]=e("p",{class:"red-text"},"如果支付过程中没有要求输入邮箱，请提供您登录的ko-fi账号的邮箱以便我们用于您的订单确认：",-1)),e("div",ue,[s(C,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=k=>t.value=k),placeholder:"请输入ko-fi账号邮箱"},null,8,["modelValue"]),s(U,{effect:"light",placement:"top",content:me,"show-after":300,"raw-content":""},{default:r(()=>[s(M,{class:"info-icon"},{default:r(()=>[s(b(W))]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}}),ce=A(pe,[["__scopeId","data-v-d1ce9ab1"]]),fe={id:"user-guide",class:"user-guide"},ye={class:"iframe-container","element-loading-text":"加载中..."},ge=["src"],ve=I({__name:"UpgradeProDialog",props:{paymentPlatform:{},paymentType:{},iframeUrl:{},paymentName:{},projectId:{},size:{}},emits:["payment-success","payment-cancelled"],setup(n,{emit:a}){const y="436efb388d684aadab73ef3cbba8f287",u=Y(),t=n,i=a,p=c(!1),g=c(!1),m=c(!0),f=c(null),o=c(t.iframeUrl);c("");const C=c(!1);Z(()=>{}),ee(()=>{});const M=()=>{o.value=`${t.iframeUrl}${t.iframeUrl.includes("?")?"&":"?"}timestamp=${Date.now()}`,m.value=!0},U=()=>{p.value=!0,M()},w=()=>{C.value=!0},B=j=>{const l={paymentType:t.paymentType,paymentPlatform:t.paymentPlatform,paymentName:t.paymentName,paymentConfirm:"1",paymentLink:t.iframeUrl,userEmail:j||u.email,projectId:t.projectId,clientId:y};S(l).then(()=>{P.success("支付确认记录已添加"),i("payment-success"),p.value=!1}).catch(_=>{console.error("添加支付确认记录失败:",_),P.error("添加支付确认记录失败，请稍后重试")})},k=()=>{const j={paymentType:t.paymentType,paymentPlatform:t.paymentPlatform,paymentName:t.paymentName,paymentConfirm:"0",paymentLink:t.iframeUrl,userEmail:u.email,projectId:t.projectId,clientId:y};S(j).then(()=>{i("payment-cancelled"),p.value=!1}).catch(l=>{})},G=()=>{m.value=!1},H=()=>{m.value=!1,P.error("加载升级页面失败，请稍后再试")},q=()=>{navigator.clipboard.writeText(u.email).then(()=>{P.success("邮箱已复制到剪贴板")}).catch(()=>{P.error("复制失败，请手动复制")})},Q=()=>{g.value=!0};return(j,l)=>{const _=R,x=T,L=z,J=oe;return h(),V(ae,null,[e("div",null,[s(b(O),{content:"升级到Pro",placement:"top","show-after":300,effect:"light"},{default:r(()=>[j.size==="small"?(h(),D(_,{key:0,class:"pro-button-small",onClick:U},{default:r(()=>l[3]||(l[3]=[e("span",{class:"pro-text-small"},"Pro",-1)])),_:1})):(h(),D(_,{key:1,class:"pro-button",onClick:U},{default:r(()=>l[4]||(l[4]=[e("span",{class:"pro-text"},"Pro",-1)])),_:1}))]),_:1}),s(L,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=$=>p.value=$),title:"升级到 Pro",width:"80%","before-close":w,"append-to-body":""},{default:r(()=>[e("div",fe,[e("span",null,"请在需要填入Email的位置，填入当前账号的Email："+F(b(u).email),1),s(_,{size:"small",class:"copy-button",onClick:q},{default:r(()=>[s(x,null,{default:r(()=>[s(b(te))]),_:1}),l[5]||(l[5]=d(" 复制 "))]),_:1}),s(_,{size:"small",class:"help-button",onClick:Q},{default:r(()=>[s(x,null,{default:r(()=>[s(b(le))]),_:1}),l[6]||(l[6]=d(" 帮助 "))]),_:1})]),ne((h(),V("div",ye,[e("iframe",{id:"kofiframe",ref_key:"iframeRef",ref:f,src:o.value,frameborder:"0",class:"pro-iframe",style:{border:"none",width:"100%",padding:"4px",background:"#f9f9f9"},onLoad:G,onError:H},null,40,ge)])),[[J,m.value]])]),_:1},8,["modelValue"])]),s(L,{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=$=>g.value=$),title:"升级步骤说明",width:"70%",class:"help-dialog","append-to-body":""},{default:r(()=>l[7]||(l[7]=[e("div",{class:"help-content"},[e("h1",{id:"Payment User Guide","data-line":"0"},"Payment User Guide"),e("h2",{id:"分为3种计划","data-line":"1"},"分为3种计划"),e("ul",{"data-line":"2"},[e("li",{"data-line":"2"},"Free: 无需编码，一键建站，并将任意静态网站瞬间升级成带管理端功能的动态站点"),e("li",{"data-line":"3"},[d("PlanA: 1$/Mon, 10$("),e("s",null,"12$"),d(")/Annually, More storage and buildtime with more admin features")]),e("li",{"data-line":"4"},[d("PlanB: 2$/Mon, 20$("),e("s",null,"24$"),d(")/Annually, More storage and buildtime with full admin features")])]),e("h2",{id:"Features for different plans","data-line":"5"},"Features for different plans"),e("table",{"data-line":"6"},[e("thead",{"data-line":"6"},[e("tr",{"data-line":"6"},[e("th",null,"Features"),e("th",null,"Free"),e("th",null,[d("PlanA: 1$/Mon"),e("br"),d("10$("),e("s",null,"12$"),d(")/Annually")]),e("th",null,[d("PlanB: 2$/Mon"),e("br"),d("10$("),e("s",null,"20$"),d(")/Annually")])])]),e("tbody",{"data-line":"8"},[e("tr",{"data-line":"8"},[e("td",null,"Online Editor"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"9"},[e("td",null,"Auto Build"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"10"},[e("td",null,"Auto Publish"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"11"},[e("td",null,"Predefinded Themes"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"12"},[e("td",null,"Multi-Projects"),e("td",null,"10"),e("td",null,"-"),e("td",null,"-")]),e("tr",{"data-line":"13"},[e("td",null,"Storage/Project"),e("td",null,"10MB"),e("td",null,"100MB"),e("td",null,"200MB")]),e("tr",{"data-line":"14"},[e("td",null,"Buildtime/Project"),e("td",null,"10Mins/Mon"),e("td",null,"100Mins/Mon"),e("td",null,"200Mins/Mon")]),e("tr",{"data-line":"15"},[e("td",null,"Simple Dashboard"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"16"},[e("td",null,"Changes list/revert/diff"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"17"},[e("td",null,"Users"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"18"},[e("td",null,"Deploy History"),e("td",null,"✅"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"19"},[e("td",null,"Email Notification"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"20"},[e("td",null,"Commit Anytime"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"21"},[e("td",null,"Commit History"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"22"},[e("td",null,"Commit Rollback"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"23"},[e("td",null,"Customed Message"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"24"},[e("td",null,"Users/Roles Manage"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"25"},[e("td",null,"Analytics Dashboard"),e("td",null,"❌"),e("td",null,"✅"),e("td",null,"✅")]),e("tr",{"data-line":"26"},[e("td",null,"OAuth Setting"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"27"},[e("td",null,"Orders"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"28"},[e("td",null,"Email Autoreply"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"29"},[e("td",null,"Payment Setting"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"30"},[e("td",null,"Payment Logs"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"31"},[e("td",null,"Content Preview"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"✅")]),e("tr",{"data-line":"32"},[e("td",null,"Ads Free"),e("td",null,"❌"),e("td",null,"❌"),e("td",null,"❌")])])])],-1)])),_:1},8,["modelValue"]),s(ce,{visible:C.value,"onUpdate:visible":l[2]||(l[2]=$=>C.value=$),"user-email":b(u).email,"payment-name":t.paymentName,onConfirm:B,onCancel:k},null,8,["visible","user-email","payment-name"])],64)}}}),Be=A(ve,[["__scopeId","data-v-7aa3683f"]]);export{Me as B,Be as U,ke as a,Ee as b,we as c,$e as d,Ue as g,Ce as l,je as u};
